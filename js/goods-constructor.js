function constructorCheckedInputs(){const e=document.querySelector(".constructor__body"),t=document.querySelector(".price__value"),o=document.querySelector("#slider__range-counter"),n=document.querySelector(".slider__number-input");function c(){const e=document.querySelector(".good-tipe__li.good-tipe__active");if(!e)return;const o=e.getAttribute("name"),c=parseInt(n.value,10)||0;let r=0;switch(o){case"type-tshirt":r=14.99;break;case"type-sweatshirt":r=24.99;break;case"type-hood":r=29.99}t.textContent=`$${(r*c).toFixed(2)}`}n.value=o.value,o.addEventListener("input",(()=>{n.value=o.value,c()})),n.addEventListener("input",(()=>{o.value=n.value,c()})),e.addEventListener("click",(e=>{e.target.closest(".good-tipe__li")&&(document.querySelectorAll(".good-tipe__li").forEach((e=>{e.classList.remove("good-tipe__active")})),e.target.closest(".good-tipe__li").classList.toggle("good-tipe__active")),e.target.closest(".print-position__radio")&&(document.querySelectorAll(".print-position__radio").forEach((e=>{e.classList.remove("print-position__radio__active")})),e.target.closest(".print-position__radio").classList.toggle("print-position__radio__active")),e.target.closest(".goods-size__label")&&(document.querySelectorAll(".goods-size__label").forEach((e=>{e.classList.remove("goods-size__label__active")})),e.target.closest(".goods-size__label").classList.toggle("goods-size__label__active")),e.target.closest(".radio-color__radio")&&(document.querySelectorAll(".radio-color__radio").forEach((e=>{e.classList.remove("radio-color__radio__active")})),e.target.closest(".radio-color__radio").classList.toggle("radio-color__radio__active")),c()}));const r=document.querySelector(".constructor__purchase"),i=document.querySelector(".submit__button");e.addEventListener("click",(e=>{if(e.target.closest(".submit__button")){e.preventDefault(),r.classList.add("constructor__purchase__active");const t=document.querySelector(".name-input").value.trim(),o=document.querySelector(".email-input").value.trim(),n=document.querySelector(".phone__input").value.trim(),c=document.querySelector(".name-error"),s=document.querySelector(".email-error"),u=document.querySelector(".phone-error"),d=/^\+?[\d\s-()]+$/,l=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;c.textContent="",s.textContent="",u.textContent="";let a=!0;""===t&&(c.textContent="Введіть ім'я",a=!1),l.test(o)||(s.textContent="Невірний формат електронної пошти.",a=!1),d.test(n)||(u.textContent="Невірний формат номера телефону.",a=!1),a&&(r.classList.remove("constructor__purchase__active"),i.classList.add("submitCompleate"),openConstructorPopup())}}))}function openConstructorPopup(){const e=document.getElementById("popupPurchase"),t=document.getElementById("popupBody"),o=document.querySelector("body");e.classList.add("popup__open"),setTimeout((()=>{t.classList.add("popup__body__animate"),o.classList.add("stop-sctoll")}),10),setTimeout((()=>{t.classList.remove("popup__body__animate"),setTimeout((()=>{e.classList.remove("popup__open"),o.classList.remove("stop-sctoll")}),800)}),2e3)}function addTextPrint(){document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".add-text__input input"),t=document.querySelector(".params__color"),o=document.querySelector(".fs-container__input"),n=document.querySelector(".text-overlay"),c=document.querySelector(".constructor__good-img");function r(){const c=e.value.trim();""===c?n.classList.remove("show"):(n.textContent=c,n.style.color=t.value,n.style.fontSize=`${o.value}px`||"16px",n.classList.add("show"))}let i,s;function u(e){let t=e.clientX-i-c.getBoundingClientRect().left,o=e.clientY-s-c.getBoundingClientRect().top;const r=c.offsetWidth-n.offsetWidth,u=c.offsetHeight-n.offsetHeight;t<0&&(t=0),o<0&&(o=0),t>r&&(t=r),o>u&&(o=u),n.style.left=t+"px",n.style.top=o+"px"}function d(){document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d)}e.addEventListener("input",r),t.addEventListener("input",r),o.addEventListener("input",r),n.addEventListener("mousedown",(function(e){e.preventDefault();const t=n.getBoundingClientRect();i=e.clientX-t.left,s=e.clientY-t.top,document.addEventListener("mousemove",u),document.addEventListener("mouseup",d)})),n.ondragstart=function(){return!1}}))}function addImgPrint(){document.querySelector(".price__value");document.getElementById("print-image").addEventListener("change",(function(e){const t=e.target,o=t.files[0];if(o){const e=new FileReader;e.onload=function(e){const o=e.target.result;t.style.backgroundImage=`url(${o})`},e.readAsDataURL(o)}}));const e=document.getElementById("print-image");let t,o;e.addEventListener("mousedown",(function(n){function c(n){e.style.left=n.clientX-t+"px",e.style.top=n.clientY-o+"px"}n.preventDefault(),t=n.clientX-e.getBoundingClientRect().left,o=n.clientY-e.getBoundingClientRect().top,document.addEventListener("mousemove",c),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",c)}),{once:!0})}))}function goGoodsConstructor(){document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll('input[name="goodColor"]'),t=document.querySelectorAll('input[name="goodTipe"]'),o=document.querySelectorAll('input[name="printPosition"]'),n=document.querySelector(".good-img__previu");function c(){const e=document.querySelector('input[name="goodColor"]:checked'),t=document.querySelector('input[name="goodTipe"]:checked'),o=document.querySelector('input[name="printPosition"]:checked');if(e&&!t&&!o){const t=e.id.split("-")[0];return void(n.src=`./imgs/constructor_goods/${t}-font_tshirt.webp`)}if(!e&&!t&&o){let e="";return o.id.includes("start")?e="font":o.id.includes("back")?e="back":o.id.includes("asd")&&(e="asd"),void(n.src=`./imgs/constructor_goods/yellow-${e}_tshirt.webp`)}const c=e?e.id.split("-")[0]:"yellow",r=t?t.value:"tshirt";let i="font";o&&(o.id.includes("start")?i="font":o.id.includes("back")?i="back":o.id.includes("asd")&&(i="asd"));const s=`./imgs/constructor_goods/${c}-${i}_${r}.webp`;n.src=s}e.forEach((e=>e.addEventListener("change",c))),t.forEach((e=>e.addEventListener("change",c))),o.forEach((e=>e.addEventListener("change",c)))}))}
